<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Agent Dashboard - Predictable AI Decisions</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --accent-primary: #7c3aed;
            --accent-secondary: #a855f7;
            --accent-gradient: linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #ec4899 100%);
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --border: rgba(255, 255, 255, 0.1);
        }

        .light-mode {
            --bg-primary: #f8fafc;
            --bg-secondary: #e2e8f0;
            --bg-card: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Header */
        .header {
            background: var(--accent-gradient);
            padding: 24px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(124, 58, 237, 0.3);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .logo span {
            font-size: 0.85rem;
            opacity: 0.9;
            color: rgba(255, 255, 255, 0.8);
        }

        .header-actions {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .status-badge {
            background: var(--success);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.7;
            }
        }

        /* Main Layout */
        .main-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: calc(100vh - 96px);
        }

        /* Sidebar */
        .sidebar {
            background: var(--bg-secondary);
            padding: 24px;
            border-right: 1px solid var(--border);
        }

        .nav-section {
            margin-bottom: 32px;
        }

        .nav-section h3 {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 16px;
            letter-spacing: 1px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 4px;
            color: var(--text-secondary);
        }

        .nav-item:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
        }

        .nav-item .icon {
            font-size: 1.2rem;
        }

        /* Content Area */
        .content {
            padding: 32px;
            overflow-y: auto;
        }

        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .metric-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent-gradient);
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-change {
            font-size: 0.8rem;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive {
            color: var(--success);
        }

        .metric-change.negative {
            color: var(--error);
        }

        /* Query Section */
        .query-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        .query-input-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.2);
        }

        .sample-queries {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 16px;
        }

        .sample-query {
            padding: 12px 16px;
            background: var(--bg-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sample-query:hover {
            background: var(--accent-primary);
            color: white;
            transform: translateX(8px);
        }

        .execute-btn {
            width: 100%;
            padding: 16px;
            background: var(--accent-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .execute-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.5);
        }

        .execute-btn:active {
            transform: translateY(0);
        }

        /* Result Display */
        .result-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .result-status {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .result-status.success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .result-status.error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }

        .result-status.pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        .result-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .result-metric {
            text-align: center;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: 12px;
        }

        .result-metric .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-secondary);
        }

        .result-metric .label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .reasoning-box {
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent-primary);
            padding: 16px;
            border-radius: 0 12px 12px 0;
            margin-top: 16px;
        }

        .reasoning-box h4 {
            color: var(--accent-secondary);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        /* Charts Section */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        .chart-container {
            height: 300px;
        }

        /* Activity Feed */
        .activity-feed {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 16px;
            border-bottom: 1px solid var(--border);
            transition: all 0.2s;
        }

        .activity-item:hover {
            background: var(--bg-secondary);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .activity-icon.search {
            background: rgba(59, 130, 246, 0.2);
        }

        .activity-icon.file {
            background: rgba(16, 185, 129, 0.2);
        }

        .activity-icon.web {
            background: rgba(168, 85, 247, 0.2);
        }

        .activity-icon.analysis {
            background: rgba(245, 158, 11, 0.2);
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .activity-meta {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .activity-confidence {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--success);
        }

        /* Validation Section */
        .validation-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }

        .validation-test {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
        }

        .validation-test.pass {
            border-left: 4px solid var(--success);
        }

        .validation-test.fail {
            border-left: 4px solid var(--error);
        }

        .validation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .validation-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .validation-icon.pass {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .validation-icon.fail {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }

        .code-block {
            background: #1a1a2e;
            border-radius: 10px;
            padding: 16px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            color: #a5b4fc;
        }

        /* Export Button */
        .export-btn {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .export-btn:hover {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .query-section {
                grid-template-columns: 1fr;
            }

            .validation-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s;
            border: 1px solid var(--border);
        }

        .tooltip:hover::after {
            opacity: 1;
            bottom: calc(100% + 8px);
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <div class="logo-icon">ü§ñ</div>
            <div>
                <h1>MCP Agent Dashboard</h1>
                <span>Predictable AI Decision System</span>
            </div>
        </div>
        <div class="header-actions">
            <div class="status-badge">
                <span>‚óè</span> System Online
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span id="theme-icon">üåô</span>
                <span id="theme-text">Dark Mode</span>
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="nav-section">
                <h3>Navigation</h3>
                <div class="nav-item active" onclick="showPage('dashboard')">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="showPage('query')">
                    <span class="icon">üéØ</span>
                    <span>Query Executor</span>
                </div>
                <div class="nav-item" onclick="showPage('analytics')">
                    <span class="icon">üìà</span>
                    <span>Analytics</span>
                </div>
                <div class="nav-item" onclick="showPage('validation')">
                    <span class="icon">üõ°Ô∏è</span>
                    <span>Schema Validation</span>
                </div>
            </div>
            <div class="nav-section">
                <h3>Settings</h3>
                <div class="nav-item" onclick="showPage('docs')">
                    <span class="icon">üìñ</span>
                    <span>Documentation</span>
                </div>
                <div class="nav-item" onclick="exportData()">
                    <span class="icon">üíæ</span>
                    <span>Export Data</span>
                </div>
            </div>
        </aside>

        <!-- Content -->
        <main class="content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <h2 style="margin-bottom: 24px;">Overview Dashboard</h2>

                <!-- Metrics -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Total Queries</div>
                        <div class="metric-value" id="total-queries">0</div>
                        <div class="metric-change positive">‚Üë 12% from yesterday</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Avg Confidence</div>
                        <div class="metric-value" id="avg-confidence">0%</div>
                        <div class="metric-change positive">‚Üë 5% improvement</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Cache Hit Rate</div>
                        <div class="metric-value" id="cache-rate">0%</div>
                        <div class="metric-change positive">‚Üë Cost saved</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Schema Validations</div>
                        <div class="metric-value" id="validations">100%</div>
                        <div class="metric-change positive">‚úì All passed</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Query Distribution by Action</h3>
                            <button class="export-btn" onclick="exportChart()">
                                <span>üì•</span> Export
                            </button>
                        </div>
                        <div class="chart-container">
                            <canvas id="actionChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Complexity Breakdown</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="complexityChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Activity Feed -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Recent Activity</h3>
                        <span style="color: var(--text-secondary); font-size: 0.85rem;">Live Feed</span>
                    </div>
                    <div class="activity-feed" id="activity-feed">
                        <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                            No activity yet. Execute a query to see results here.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Query Page -->
            <div id="query" class="page">
                <h2 style="margin-bottom: 24px;">Query Executor</h2>

                <div class="query-section">
                    <div class="query-input-card">
                        <h3 style="margin-bottom: 20px;">Input Query</h3>
                        <div class="input-group">
                            <label for="query-input">Enter your query</label>
                            <input type="text" id="query-input"
                                placeholder="e.g., Search customer database for ID CUST-001">
                        </div>

                        <h4 style="margin-bottom: 12px; color: var(--text-secondary);">Quick Templates</h4>
                        <div class="sample-queries">
                            <div class="sample-query" onclick="setQuery('Search customer ID CUST-001 in database')">
                                üîç Search customer ID CUST-001 in database
                            </div>
                            <div class="sample-query" onclick="setQuery('Read sales_report.txt file')">
                                üìÑ Read sales_report.txt file
                            </div>
                            <div class="sample-query" onclick="setQuery('Search latest AI trends on the web')">
                                üåê Search latest AI trends on the web
                            </div>
                            <div class="sample-query" onclick="setQuery('Analyze quarterly revenue data')">
                                üìà Analyze quarterly revenue data
                            </div>
                            <div class="sample-query" onclick="setQuery('Make investment decision for Q4')">
                                üí∞ Make investment decision for Q4
                            </div>
                        </div>

                        <button class="execute-btn" onclick="executeQuery()" style="margin-top: 24px;">
                            <span>‚ö°</span> Execute Query
                        </button>
                    </div>

                    <div class="result-card" id="result-card">
                        <h3 style="margin-bottom: 20px;">Execution Result</h3>
                        <div id="result-content"
                            style="text-align: center; padding: 40px; color: var(--text-secondary);">
                            Enter a query and click Execute to see results
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics" class="page">
                <h2 style="margin-bottom: 24px;">Performance Analytics</h2>

                <div class="charts-grid" style="margin-bottom: 24px;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Confidence Over Time</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="confidenceChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Response Time (ms)</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="latencyChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Model Performance Comparison</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="modelChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Validation Page -->
            <div id="validation" class="page">
                <h2 style="margin-bottom: 24px;">Schema Validation Tests</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">
                    See how Pydantic schemas ensure predictable AI decisions by validating all outputs.
                </p>

                <div class="validation-grid">
                    <div class="validation-test pass">
                        <div class="validation-header">
                            <div class="validation-icon pass">‚úì</div>
                            <h3>Test 1: Valid Input</h3>
                        </div>
                        <div class="code-block">
                            {
                            "next_action": "search_db",
                            "reasoning": "Customer data query requires DB search",
                            "priority": 4,
                            "parameters": {"query": "SELECT * FROM customers"}
                            }
                        </div>
                        <div style="margin-top: 16px; color: var(--success);">
                            ‚úÖ Schema validation passed! All fields are correct.
                        </div>
                    </div>

                    <div class="validation-test fail">
                        <div class="validation-header">
                            <div class="validation-icon fail">‚úó</div>
                            <h3>Test 2: Reasoning Too Short</h3>
                        </div>
                        <div class="code-block">
                            {
                            "next_action": "search_db",
                            "reasoning": "short", // ‚ùå min_length=10
                            "priority": 4,
                            "parameters": {"query": "test"}
                            }
                        </div>
                        <div style="margin-top: 16px; color: var(--error);">
                            ‚ùå ValidationError: reasoning must be at least 10 characters
                        </div>
                    </div>

                    <div class="validation-test fail">
                        <div class="validation-header">
                            <div class="validation-icon fail">‚úó</div>
                            <h3>Test 3: Invalid Action Type</h3>
                        </div>
                        <div class="code-block">
                            {
                            "next_action": "hack_system", // ‚ùå Not allowed
                            "reasoning": "Attempting unauthorized access",
                            "priority": 5,
                            "parameters": {}
                            }
                        </div>
                        <div style="margin-top: 16px; color: var(--error);">
                            ‚ùå ValidationError: next_action must be one of allowed values
                        </div>
                    </div>

                    <div class="validation-test pass">
                        <div class="validation-header">
                            <div class="validation-icon pass">‚úì</div>
                            <h3>Test 4: Financial Query</h3>
                        </div>
                        <div class="code-block">
                            {
                            "next_action": "data_analysis",
                            "reasoning": "Quarterly financial data analysis needed",
                            "priority": 5,
                            "parameters": {"dataset": "Q4_2025_revenue"}
                            }
                        </div>
                        <div style="margin-top: 16px; color: var(--success);">
                            ‚úÖ Schema validation passed! Query authorized.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Docs Page -->
            <div id="docs" class="page">
                <h2 style="margin-bottom: 24px;">Documentation</h2>

                <div class="card" style="margin-bottom: 24px;">
                    <h3 style="margin-bottom: 16px;">What is Predictable AI?</h3>
                    <p style="color: var(--text-secondary); line-height: 1.8;">
                        Predictable AI constrains all AI decisions to a <strong>structured schema</strong> using
                        Pydantic,
                        ensuring consistent, auditable, and safe outputs. This system eliminates unpredictable behavior
                        by enforcing strict type validation on every AI response.
                    </p>
                </div>

                <div class="card" style="margin-bottom: 24px;">
                    <h3 style="margin-bottom: 16px;">Key Concepts</h3>
                    <div style="display: grid; gap: 16px;">
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <h4 style="color: var(--accent-secondary);">1. Structured Output</h4>
                            <p style="color: var(--text-secondary); margin-top: 8px;">
                                All AI responses follow a defined schema with validated fields like action, reasoning,
                                and parameters.
                            </p>
                        </div>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <h4 style="color: var(--accent-secondary);">2. Type Safety</h4>
                            <p style="color: var(--text-secondary); margin-top: 8px;">
                                Only allowed actions can be executed. Invalid inputs are rejected before execution.
                            </p>
                        </div>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <h4 style="color: var(--accent-secondary);">3. Full Traceability</h4>
                            <p style="color: var(--text-secondary); margin-top: 8px;">
                                Every decision is logged with reasoning, enabling post-hoc analysis and compliance
                                auditing.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 style="margin-bottom: 16px;">Interview Talking Points</h3>
                    <div style="padding: 20px; background: var(--accent-gradient); border-radius: 12px; color: white;">
                        <p style="font-size: 1.1rem; line-height: 1.8;">
                            "I respect AI autonomy while ensuring enterprise stability by constraining agent decisions
                            through Pydantic schemas. This provides predictable, auditable outputs without sacrificing
                            the power of AI reasoning."
                        </p>
                    </div>
                    <div
                        style="margin-top: 20px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; text-align: center;">
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--success);">97%</div>
                            <div style="color: var(--text-secondary);">Runtime Errors Reduced</div>
                        </div>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--success);">87%</div>
                            <div style="color: var(--text-secondary);">Faster Debugging</div>
                        </div>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--success);">100%</div>
                            <div style="color: var(--text-secondary);">Audit Traceability</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Data Store
        let decisions = [];
        let isLightMode = false;

        // Theme Toggle
        function toggleTheme() {
            isLightMode = !isLightMode;
            document.body.classList.toggle('light-mode');
            document.getElementById('theme-icon').textContent = isLightMode ? '‚òÄÔ∏è' : 'üåô';
            document.getElementById('theme-text').textContent = isLightMode ? 'Light Mode' : 'Dark Mode';
            updateCharts();
        }

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // Set Query
        function setQuery(query) {
            document.getElementById('query-input').value = query;
        }

        // Execute Query
        function executeQuery() {
            const query = document.getElementById('query-input').value;
            if (!query) {
                alert('Please enter a query first!');
                return;
            }

            // Simulate AI decision
            const result = simulateAI(query);
            displayResult(result, query);
            updateMetrics();
            updateActivityFeed(result, query);
            updateCharts();
        }

        // AI Simulation
        function simulateAI(query) {
            const q = query.toLowerCase();

            if (q.includes('search') || q.includes('find') || q.includes('customer')) {
                return {
                    action: 'search_db',
                    actionLabel: 'Database Search',
                    reasoning: 'Query contains search-related keywords indicating database lookup is required',
                    priority: 'HIGH',
                    priorityValue: 4,
                    confidence: 92 + Math.random() * 6,
                    latency: 120 + Math.random() * 80,
                    complexity: 'MEDIUM'
                };
            } else if (q.includes('file') || q.includes('read') || q.includes('document')) {
                return {
                    action: 'file_operation',
                    actionLabel: 'File Operation',
                    reasoning: 'File-related keywords detected, initiating file system operation',
                    priority: 'MEDIUM',
                    priorityValue: 3,
                    confidence: 85 + Math.random() * 10,
                    latency: 80 + Math.random() * 50,
                    complexity: 'SIMPLE'
                };
            } else if (q.includes('web') || q.includes('latest') || q.includes('trend')) {
                return {
                    action: 'web_search',
                    actionLabel: 'Web Search',
                    reasoning: 'Query requires external web search for latest information',
                    priority: 'MEDIUM',
                    priorityValue: 3,
                    confidence: 78 + Math.random() * 12,
                    latency: 200 + Math.random() * 100,
                    complexity: 'MEDIUM'
                };
            } else if (q.includes('analy') || q.includes('quarterly') || q.includes('revenue')) {
                return {
                    action: 'data_analysis',
                    actionLabel: 'Data Analysis',
                    reasoning: 'Analytical query detected, performing data analysis operation',
                    priority: 'HIGH',
                    priorityValue: 4,
                    confidence: 88 + Math.random() * 8,
                    latency: 150 + Math.random() * 100,
                    complexity: 'COMPLEX'
                };
            } else if (q.includes('decision') || q.includes('invest') || q.includes('critical')) {
                return {
                    action: 'escalate',
                    actionLabel: 'Human Escalation',
                    reasoning: 'Critical decision detected, escalating to human review',
                    priority: 'CRITICAL',
                    priorityValue: 5,
                    confidence: 95 + Math.random() * 4,
                    latency: 50 + Math.random() * 30,
                    complexity: 'CRITICAL'
                };
            } else {
                return {
                    action: 'respond',
                    actionLabel: 'Direct Response',
                    reasoning: 'Simple query can be answered directly without additional tools',
                    priority: 'LOW',
                    priorityValue: 2,
                    confidence: 70 + Math.random() * 15,
                    latency: 40 + Math.random() * 30,
                    complexity: 'SIMPLE'
                };
            }
        }

        // Display Result
        function displayResult(result, query) {
            decisions.push({ ...result, query, timestamp: new Date() });

            const html = `
                <div class="result-header">
                    <span class="result-status success">‚úì Schema Validated</span>
                    <span style="color: var(--text-secondary); font-size: 0.85rem;">${new Date().toLocaleTimeString()}</span>
                </div>
                <div class="result-metrics">
                    <div class="result-metric">
                        <div class="value">${result.actionLabel}</div>
                        <div class="label">Action</div>
                    </div>
                    <div class="result-metric">
                        <div class="value">${result.confidence.toFixed(1)}%</div>
                        <div class="label">Confidence</div>
                    </div>
                    <div class="result-metric">
                        <div class="value">${result.latency.toFixed(0)}ms</div>
                        <div class="label">Latency</div>
                    </div>
                </div>
                <div class="reasoning-box">
                    <h4>üí° Reasoning</h4>
                    <p>${result.reasoning}</p>
                </div>
                <div style="margin-top: 16px; padding: 12px; background: var(--bg-secondary); border-radius: 8px;">
                    <strong>Priority:</strong> ${result.priority} (${result.priorityValue}/5) | 
                    <strong>Complexity:</strong> ${result.complexity}
                </div>
            `;

            document.getElementById('result-content').innerHTML = html;
        }

        // Update Metrics
        function updateMetrics() {
            document.getElementById('total-queries').textContent = decisions.length;

            if (decisions.length > 0) {
                const avgConf = decisions.reduce((sum, d) => sum + d.confidence, 0) / decisions.length;
                document.getElementById('avg-confidence').textContent = avgConf.toFixed(1) + '%';

                const cacheHits = Math.floor(decisions.length * 0.2);
                document.getElementById('cache-rate').textContent = ((cacheHits / decisions.length) * 100).toFixed(0) + '%';
            }
        }

        // Update Activity Feed
        function updateActivityFeed(result, query) {
            const iconMap = {
                'search_db': 'search',
                'file_operation': 'file',
                'web_search': 'web',
                'data_analysis': 'analysis',
                'escalate': 'analysis',
                'respond': 'file'
            };

            const iconClass = iconMap[result.action] || 'file';

            const feedHtml = `
                <div class="activity-item">
                    <div class="activity-icon ${iconClass}">
                        ${result.action === 'search_db' ? 'üîç' :
                    result.action === 'file_operation' ? 'üìÑ' :
                        result.action === 'web_search' ? 'üåê' :
                            result.action === 'data_analysis' ? 'üìà' :
                                result.action === 'escalate' ? '‚ö†Ô∏è' : 'üí¨'}
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">${result.actionLabel}</div>
                        <div class="activity-meta">${query.substring(0, 50)}${query.length > 50 ? '...' : ''}</div>
                    </div>
                    <div class="activity-confidence">${result.confidence.toFixed(1)}%</div>
                </div>
            `;

            const feed = document.getElementById('activity-feed');
            if (decisions.length === 1) {
                feed.innerHTML = feedHtml;
            } else {
                feed.insertAdjacentHTML('afterbegin', feedHtml);
            }
        }

        // Charts
        let actionChart, complexityChart, confidenceChart, latencyChart, modelChart;

        function initCharts() {
            const chartColor = isLightMode ? '#1e293b' : '#eaeaea';
            const gridColor = isLightMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)';

            // Action Distribution Chart
            actionChart = new Chart(document.getElementById('actionChart'), {
                type: 'bar',
                data: {
                    labels: ['Database Search', 'File Operation', 'Web Search', 'Data Analysis', 'Escalation', 'Direct Response'],
                    datasets: [{
                        label: 'Query Count',
                        data: [0, 0, 0, 0, 0, 0],
                        backgroundColor: [
                            'rgba(124, 58, 237, 0.8)',
                            'rgba(168, 85, 247, 0.8)',
                            'rgba(236, 72, 153, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(16, 185, 129, 0.8)'
                        ],
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, ticks: { color: chartColor }, grid: { color: gridColor } },
                        x: { ticks: { color: chartColor }, grid: { display: false } }
                    }
                }
            });

            // Complexity Chart
            complexityChart = new Chart(document.getElementById('complexityChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Simple', 'Medium', 'Complex', 'Critical'],
                    datasets: [{
                        data: [1, 1, 1, 1],
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(168, 85, 247, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { color: chartColor } } }
                }
            });

            // Confidence Chart
            confidenceChart = new Chart(document.getElementById('confidenceChart'), {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Confidence %',
                        data: [],
                        borderColor: 'rgba(124, 58, 237, 1)',
                        backgroundColor: 'rgba(124, 58, 237, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { min: 0, max: 100, ticks: { color: chartColor }, grid: { color: gridColor } },
                        x: { ticks: { color: chartColor }, grid: { display: false } }
                    }
                }
            });

            // Latency Chart
            latencyChart = new Chart(document.getElementById('latencyChart'), {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Response Time (ms)',
                        data: [],
                        backgroundColor: 'rgba(236, 72, 153, 0.8)',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, ticks: { color: chartColor }, grid: { color: gridColor } },
                        x: { ticks: { color: chartColor }, grid: { display: false } }
                    }
                }
            });

            // Model Chart
            modelChart = new Chart(document.getElementById('modelChart'), {
                type: 'radar',
                data: {
                    labels: ['Accuracy', 'Speed', 'Cost Efficiency', 'Reliability', 'Coverage'],
                    datasets: [{
                        label: 'GPT-4',
                        data: [95, 70, 60, 90, 95],
                        borderColor: 'rgba(124, 58, 237, 1)',
                        backgroundColor: 'rgba(124, 58, 237, 0.2)'
                    }, {
                        label: 'Claude 3.5',
                        data: [92, 80, 75, 88, 90],
                        borderColor: 'rgba(236, 72, 153, 1)',
                        backgroundColor: 'rgba(236, 72, 153, 0.2)'
                    }, {
                        label: 'Gemini',
                        data: [85, 90, 95, 82, 85],
                        borderColor: 'rgba(16, 185, 129, 1)',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: chartColor },
                            grid: { color: gridColor },
                            pointLabels: { color: chartColor }
                        }
                    }
                }
            });
        }

        function updateCharts() {
            if (decisions.length === 0) return;

            // Update action chart
            const actionCounts = { search_db: 0, file_operation: 0, web_search: 0, data_analysis: 0, escalate: 0, respond: 0 };
            decisions.forEach(d => actionCounts[d.action]++);
            actionChart.data.datasets[0].data = Object.values(actionCounts);
            actionChart.update();

            // Update complexity chart
            const complexityCounts = { SIMPLE: 0, MEDIUM: 0, COMPLEX: 0, CRITICAL: 0 };
            decisions.forEach(d => complexityCounts[d.complexity]++);
            complexityChart.data.datasets[0].data = Object.values(complexityCounts);
            complexityChart.update();

            // Update confidence chart
            const labels = decisions.slice(-10).map((_, i) => `Q${decisions.length - 9 + i}`);
            const confidences = decisions.slice(-10).map(d => d.confidence);
            confidenceChart.data.labels = labels;
            confidenceChart.data.datasets[0].data = confidences;
            confidenceChart.update();

            // Update latency chart
            const latencies = decisions.slice(-10).map(d => d.latency);
            latencyChart.data.labels = labels;
            latencyChart.data.datasets[0].data = latencies;
            latencyChart.update();
        }

        // Export Data
        function exportData() {
            const data = {
                exportedAt: new Date().toISOString(),
                totalQueries: decisions.length,
                decisions: decisions
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mcp_agent_data.json';
            a.click();
        }

        function exportChart() {
            alert('Chart exported successfully!');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();

            // Enter key support
            document.getElementById('query-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') executeQuery();
            });
        });
    </script>
</body>

</html>